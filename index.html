<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chase’s Zootkit</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #fff;
      text-align: center;
    }
    h1 { color: #ffcc00; }
    .hidden { display: none; }

    button, select {
      font-size: 1.1em;
      padding: 10px 16px;
      margin: 8px;
      border-radius: 6px;
      border: none;
    }

    button {
      background: #ffcc00;
      color: #111;
      cursor: pointer;
    }
    button:hover { background: #ffaa00; }

    .menu button {
      display: block;
      width: 260px;
      margin: 14px auto;
    }

    .countdown {
      font-size: 4em;
      color: #ff4444;
      margin: 10px;
    }
  </style>
</head>
<body>

<section id="menu" class="menu">
  <h1>Chase’s Zootkit</h1>
  <button onclick="showTool('blinkBattle')">Blink Battle Mode</button>
  <button onclick="showTool('customRip')">Custom Rip Mode</button>
  <button onclick="showTool('passMode')">Pass Mode</button>
</section>

<section id="blinkBattle" class="hidden">
  <h1>Blink Battle Mode</h1>
  <div id="scoreboard">0 - 0</div>

  Rip Time:
  <select id="ripTimeSelect">
    <option value="3">3</option>
    <option value="6" selected>6</option>
    <option value="10">10</option>
    <option value="15">15</option>
  </select>

  <div id="bbMessage">Press Start</div>
  <div id="bbCountdown" class="countdown"></div>

  <button id="bbStart">Start</button>
  <button id="bbTapOut">Tap Out</button><br>
  <button onclick="exitBlinkBattle()">⬅ Exit</button>
</section>

<section id="customRip" class="hidden">
  <h1>Custom Rip Mode</h1>

  <div>Rip 1:
    <select id="rip1"><option>3</option><option>6</option><option>10</option><option>15</option></select>
  </div>
  <div>Rip 2:
    <select id="rip2"><option>3</option><option>6</option><option>10</option><option>15</option></select>
  </div>
  <div>Rip 3:
    <select id="rip3"><option>3</option><option>6</option><option>10</option><option>15</option></select>
  </div>

  <div id="customMessage">Set your sequence</div>
  <div id="customCountdown" class="countdown"></div>

  <button id="customStart">Start</button>
  <button onclick="exitCustomRip()">Exit</button>
</section>

<section id="passMode" class="hidden">
  <h1>Pass Mode</h1>

  Turn Length:
  <select id="passTimeSelect">
    <option value="30">30s</option>
    <option value="45">45s</option>
    <option value="60">60s</option>
  </select>

  <div id="passMessage">Turn ends in:</div>
  <div id="passCountdown" class="countdown"></div>

  <button id="passStart">Start</button>
  <button onclick="exitPassMode()">Exit</button>
</section>

<script>
function showTool(id) {
  document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
}
function backToMenu() {
  document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
  document.getElementById('menu').classList.remove('hidden');
}

let p1 = 0, p2 = 0, current = 1, firstRound = false;
let bbTimer, bbActive = false, ripDuration = 6;

ripTimeSelect.onchange = e => ripDuration = +e.target.value;

bbStart.onclick = () => {
  if (!bbActive) {
    bbActive = true;
    startBBRound();
  }
};

bbTapOut.onclick = exitBlinkBattle;

function startBBRound() {
  const prep = firstRound ? 15 : 5;
  let t = prep;
  bbMessage.textContent = `Player ${current === 1 ? 'One' : 'Two'}: Get Ready`;
  bbCountdown.textContent = t;

  bbTimer = setInterval(() => {
    bbCountdown.textContent = --t;
    if (t <= 0) {
      clearInterval(bbTimer);
      startRip();
    }
  }, 1000);
}

function startRip() {
  let t = ripDuration;
  bbMessage.textContent = 'Rip!';
  bbCountdown.textContent = t;

  bbTimer = setInterval(() => {
    bbCountdown.textContent = --t;
    if (t <= 0) {
      clearInterval(bbTimer);
      endBBRound();
    }
  }, 1000);
}

function endBBRound() {
  firstRound = true;
  current === 1 ? p1++ : p2++;
  scoreboard.textContent = `${p1} - ${p2}`;
  current = current === 1 ? 2 : 1;
  startBBRound();
}

function exitBlinkBattle() {
  bbActive = false;
  clearInterval(bbTimer);
  bbMessage.textContent = 'Press Start';
  bbCountdown.textContent = '';
  backToMenu();
}

let customSeq = [], customIndex = 0, customTimer;

customStart.onclick = () => {
  customSeq = [+rip1.value, +rip2.value, +rip3.value];
  customIndex = 0;
  runCustomRip();
};

function runCustomRip() {
  if (customIndex >= customSeq.length) {
    customMessage.textContent = 'Done';
    customCountdown.textContent = '';
    return;
  }

  let t = customSeq[customIndex];
  customMessage.textContent = `Rip! (${customIndex + 1}/3)`;
  customCountdown.textContent = t;

  customTimer = setInterval(() => {
    customCountdown.textContent = --t;
    if (t <= 0) {
      clearInterval(customTimer);
      customIndex++;
      runCustomRip();
    }
  }, 1000);
}

function exitCustomRip() {
  clearInterval(customTimer);
  customMessage.textContent = 'Set your sequence';
  customCountdown.textContent = '';
  backToMenu();
}

let passTimer, passActive = false;

passStart.onclick = () => {
  if (!passActive) {
    passActive = true;
    startPass();
  }
};

function startPass() {
  let t = +passTimeSelect.value;
  passMessage.textContent = 'Turn ends in:';
  passCountdown.textContent = t;

  passTimer = setInterval(() => {
    passCountdown.textContent = --t;
    if (t <= 0) {
      clearInterval(passTimer);
      alert('Your turn is over!');
      passMessage.textContent = 'Pass!';
      if (passActive) setTimeout(startPass, 500);
    }
  }, 1000);
}

function exitPassMode() {
  passActive = false;
  clearInterval(passTimer);
  passCountdown.textContent = '';
  passMessage.textContent = 'Turn ends in:';
  backToMenu();
}
</script>

</body>
</html>
